<script setup>
import {defineProps, onMounted, ref, watch} from "vue";
import {useRoute} from "vue-router";
import {ElMessage, ElNotification} from "element-plus";
import 'vue3-emoji-picker/css';
import EmojiPicker from 'vue3-emoji-picker';
import {aGetComments, aPostComment} from "@/api/api.js";

const route = useRoute()
let album_ID = ref("")
const {albumid} = defineProps(['albumid']);
let textCount = ref(130)
let comment = ref([{
  comment: "",
  user_name: "",
  user_avatar: '',
  postingTime: ""
}])

let commentForm = ref({
  ID: '',
  text: '',
  type: ''
})

//禁用的emoji组
const emojiGroup = ref([
  "animals_nature",
  "activities",
  "travel_places",
  "objects",
  "symbols",
  "flags"
])
const type = ref("album")
let commentExist = ref(true)

watch(() => commentForm.value.text, (textarea) => {
      textCount.value = 130 - textarea.length;
    }
);


onMounted(() => {
  album_ID.value = albumid
  commentForm.value.ID = albumid
  getComments(albumid)
})

function getComments(album_ID) {
  aGetComments(album_ID, type.value).then(resp => {
    if (resp.data.code === 200) {
      comment.value = resp.data.data
      if (comment.value.length > 0) {
        commentExist.value = false
      }
    } else {
      console.log(resp.data.msg)
    }
  })
}

// 选择emoji后调用的函数
function selectEmoji(emoji) {
  let postComment_text = document.getElementById("postComment_text")
  let startPos = postComment_text.selectionStart
  let endPos = postComment_text.selectionEnd
  let resultText = postComment_text.value.substring(0, startPos) + emoji.i + postComment_text.value.substring(endPos)
  postComment_text.value = resultText
  postComment_text.focus()
  postComment_text.selectionStart = startPos + emoji.i.length
  postComment_text.selectionEnd = startPos + emoji.i.length
  commentForm.value.text = resultText
}

function postComment() {
  if (commentForm.value.text === '') {
    ElMessage.error("写点东西吧，内容不能为空哦")
    return;
  }
  commentForm.value.type = type.value
  aPostComment(commentForm.value).then(resp => {
    if (resp.data.code === 200) {
      ElMessage.success("发表成功！")
      commentForm.value.text = ''
      getComments(album_ID.value)
    } else {
      console.log(resp.data.msg)
    }
  }).catch(resp => {
    ElNotification({
      title: '请先登录!',
      type: 'error'
    })
  })
}

</script>

<template>
  <div class="comment_mod">
    <el-affix :offset="0">
      <div class="writeComment">
        <textarea class="postComm_container"
                  id="postComment_text"
                  v-model="commentForm.text"
                  maxlength="130"
                  placeholder="说点什么吧"></textarea>
        <div class="commUtils_mod">
          <span style="color: #FFFFFF; font-size: 10px; padding-left: 20px;">{{ textCount }}</span>
          <div class="other_mod">
            <el-popover
                placement="bottom"
                trigger="click"
            >
              <template #reference>
                <svg t="1714290772999" class="icon" viewBox="0 0 1024 1024" version="1.1"
                     xmlns="http://www.w3.org/2000/svg"
                     p-id="7154" data-spm-anchor-id="a313x.search_index.0.i3.2a8f3a81oszVyk" width="200" height="200">
                  <path
                      d="M536.953154 464.455014m-448.014129 0a448.014129 448.014129 0 1 0 896.028258 0 448.014129 448.014129 0 1 0-896.028258 0Z"
                      fill="#FFE585" p-id="7155"></path>
                  <path
                      d="M547.508202 24.443486c-4.200646 0-8.421844 0.078094-12.593718 0.193181 223.698798 6.374953 403.064748 189.699047 403.064748 414.939177 0 229.268148-185.8601 415.132358-415.132358 415.132358-229.255817 0-415.132358-185.86421-415.132358-415.132358 0-36.104184 4.619889-71.143822 13.284236-104.5517-13.958312 43.305292-21.504678 89.483629-21.504679 137.433471 0 247.427106 200.599354 448.014129 448.014129 448.014129 247.431216 0 448.014129-200.587023 448.014129-448.014129 0-247.431216-200.582913-448.014129-448.014129-448.014129z"
                      fill="#FF9900" opacity=".24" p-id="7156"></path>
                  <path
                      d="M437.757071 1024h197.290626a16.440885 16.440885 0 0 0 0-32.881771h-197.290626a16.440885 16.440885 0 0 0 0 32.881771z"
                      fill="#6E6E96" opacity=".29" p-id="7157"></path>
                  <path
                      d="M708.480912 1024h57.543099a16.440885 16.440885 0 0 0 0-32.881771h-57.543099a16.440885 16.440885 0 0 0 0 32.881771zM359.112096 991.118229h-45.212435a16.440885 16.440885 0 0 0 0 32.881771h45.212435a16.440885 16.440885 0 0 0 0-32.881771z"
                      fill="#6E6E96" opacity=".17" p-id="7158"></path>
                  <path
                      d="M125.931017 487.061232c0-234.948474 190.459438-425.407911 425.407912-425.407912 229.851799 0 417.092934 182.300648 425.107865 410.187762 0.18085-5.182989 0.300046-10.378309 0.300046-15.60651 0-247.427106-200.599354-448.014129-448.014129-448.014129-247.431216 0-448.014129 200.587023-448.014129 448.014129 0 205.954972 138.983025 379.435085 328.308042 431.819856-164.955514-58.558324-283.095607-215.955141-283.095607-400.993196z"
                      fill="#FFEFB5" p-id="7159"></path>
                  <path
                      d="M244.531455 452.979276c-4.151324 144.252329 45.985157 270.925241 166.768122 304.933213 120.778855 34.007972 274.945038-35.121842 346.688951-160.331515L244.531455 452.979276z"
                      fill="#C7A17B" p-id="7160"></path>
                  <path
                      d="M228.09468 452.506601c-4.841841 168.264242 61.982138 288.35258 178.749417 321.234351 129.956979 36.593301 290.465234-37.189283 365.406899-167.984748a16.449106 16.449106 0 0 0-9.815208-23.999582l-513.448853-144.601698a16.436775 16.436775 0 0 0-20.892255 15.351677z m515.62727 136.903253c-66.66368 116.348036-213.789054 184.836655-327.962783 152.678283-146.019724-41.114544-156.89537-215.544119-154.790937-288.636185a16.453216 16.453216 0 0 1-20.892255 15.351677l513.457073 144.605808a16.444996 16.444996 0 0 1-9.811098-23.999583z"
                      fill="#6E6E96" p-id="7161"></path>
                  <path
                      d="M313.065286 97.954796C381.340173 55.385233 460.182439 32.881771 541.063375 32.881771c115.275268 0 223.649475 44.891838 305.163386 126.405748 81.51802 81.51391 126.409858 189.892227 126.409858 305.167495 0 237.969486-193.607867 431.573243-431.573244 431.573244-237.969486 0-431.573243-193.603757-431.573243-431.573244 0-51.965529 9.132912-102.767865 27.139792-151.005422a16.440885 16.440885 0 0 0-30.80611-11.49629C86.44001 353.877729 76.608361 408.551894 76.608361 464.455014c0 256.107893 208.347121 464.455014 464.455014 464.455015 256.103783 0 464.455014-208.347121 464.455015-464.455015 0-124.058811-48.315652-240.694563-136.044217-328.419017C781.753828 48.311542 665.122187 0 541.063375 0 454.025328 0 369.165697 24.225645 295.666719 70.054613a16.440885 16.440885 0 0 0 17.398567 27.900183z"
                      fill="#6E6E96" p-id="7162"></path>
                  <path
                      d="M451.727714 273.078997m-36.991992 0a36.991992 36.991992 0 1 0 73.983984 0 36.991992 36.991992 0 1 0-73.983984 0Z"
                      fill="#6E6E96" p-id="7163"></path>
                  <path
                      d="M711.016919 341.049728m-36.991993 0a36.991992 36.991992 0 1 0 73.983985 0 36.991992 36.991992 0 1 0-73.983985 0Z"
                      fill="#6E6E96" p-id="7164"></path>
                  <path
                      d="M219.37279 277.008369c9.342533-28.442732 38.393578-63.326181 64.682553-77.646192l0.098646-0.061653c26.420503-14.274799 26.420503-37.579754 0-51.821671l-0.098646-0.086315C257.762257 133.13829 227.190431 101.0128 216.117495 76.039095c-11.052385-25.014807-29.174351-25.014807-40.255509 0-11.035944 25.006587-41.636542 57.115636-68.052935 71.349333l-0.123306 0.098645c-26.342409 14.254248-26.342409 37.542762 0 51.829892l0.123306 0.049322c26.416393 14.258358 55.393453 49.19524 64.662003 77.637972l6.658558 20.123644c9.301431 28.467393 24.32018 28.467393 33.679154 0l6.564024-20.119534z"
                      fill="#CFD3FF" p-id="7165"></path>
                  <path
                      d="M234.991631 282.137925c8.101246-24.648998 34.16827-55.944223 56.930676-68.33654l0.300046-0.164409 0.291826-0.17674-0.542549 0.304157c18.080864-9.765886 28.446842-24.492809 28.438621-40.403476-0.00411-15.902446-10.374199-30.608819-28.450952-40.358264l3.058005 2.129095-1.393365-1.224846a48.891083 48.891083 0 0 0-1.730403-0.974123c-23.235081-12.593718-51.048949-41.702306-60.744962-63.560463-10.970181-24.821627-26.724659-28.533157-35.138282-28.537267s-24.172212 3.699199-35.183495 28.541377c-9.65902 21.882819-37.50577 50.970855-60.818946 63.535802l-1.331712 0.719289-1.183743 0.953571 2.371597-1.561884c-18.023321 9.753555-28.360527 24.455817-28.368747 40.341823-0.00822 15.894226 10.328986 30.617039 28.352307 40.399366l0.92891 0.501447 0.982342 0.37814-1.755064-0.817934c22.750075 12.277231 48.784217 43.539575 56.848472 68.266667l6.679109 20.193517c8.799984 26.938391 22.47469 32.618717 32.400875 32.626938s23.625552-5.647444 32.507741-32.655709l6.551693-20.119534z m-37.793485 9.860421c-2.947029 8.956172-5.478925 11.278447-5.507697 11.298999 1.878371-1.66464 6.666779-1.656419 8.54104 0.00822-0.028772-0.020551-2.548337-2.338716-5.466594-11.278447l-6.67911-20.185297c-10.604371-32.520071-42.446256-70.73691-72.471423-86.939403l-0.908359-0.493226-0.965902-0.37403 1.783836 0.834375c-7.706665-4.180095-11.155141-8.779433-11.155141-11.479849 0-2.696305 3.444366-7.279202 11.1387-11.438746l1.323491-0.715178 1.171413-0.945351-2.396259 1.574215c29.692239-16.001092 62.76308-50.781785 75.291035-79.187525 3.34983-7.562807 6.198214-9.145243 6.226986-9.157573a3.312838 3.312838 0 0 1-2.268843 0c0.028772 0.012331 2.868935 1.594766 6.218765 9.169903 12.585498 28.372858 45.590575 63.13711 75.143067 79.158754l-3.021012-2.112654 1.409806 1.237177c0.094535 0.086315 1.750954 0.978233 1.750954 0.978232 7.718996 4.159544 11.175692 8.738331 11.175692 11.426416 0 2.696305-3.456696 7.283312-11.188023 11.459297l-0.324707 0.172629-0.320598 0.18907 0.497337-0.279495c-29.963514 16.317579-61.780737 54.509756-72.442651 86.951733l-6.555803 20.127754z"
                      fill="#6E6E96" p-id="7166"></path>
                  <path
                      d="M260.791491 594.53119s251.730508-113.355795 386.081313 118.867602c0 0 111.115724-89.820668 111.115724-115.809597L244.531455 452.979276s-29.030494 96.269605 16.260036 141.551914z"
                      fill="#6E6E96" opacity=".25" p-id="7167"></path>
                </svg>
              </template>
              <EmojiPicker
                  :native="true"
                  :hide-search="true"
                  :hide-group-icons="true"
                  :disable-skin-tones="true"
                  :disabled-groups="emojiGroup"
                  @select="selectEmoji"/>
            </el-popover>
            <span @click="postComment()">发布</span>
          </div>
        </div>
      </div>
    </el-affix>
    <div class="comment_list">
      <span class="title">精彩评论</span>
      <div class="comment_user" v-for="item in comment">
        <img class="Commentator_avatar" :src=item.user_avatar>
        <div class="nameAndComment">
          <span class="commentator">{{ item.user_name }}</span>
          <span class="comment_text">{{ item.comment }}</span>
          <span class="comment_time">{{ item.postingTime }}</span>
        </div>
        <div class="option_mod">
          <div class="option_mod_next">
            <el-icon :size="18">
              <Star/>
            </el-icon>
            <el-icon :size="18">
              <Share/>
            </el-icon>
            <el-icon :size="18">
              <ChatDotRound/>
            </el-icon>
          </div>
        </div>
      </div>
      <div class="commentNull_mod" v-if="commentExist">
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1"
             viewBox="0 0 153 144" height="144px" width="153px">
          <title> 备份 10</title>
          <defs>
            <linearGradient id="linearGradient-1" y2="-7.86526499%" x2="52.0445751%" y1="100%" x1="52.0445751%">
              <stop offset="0%" stop-opacity="0" stop-color="#F3F4F6"></stop>
              <stop offset="100%" stop-color="#E4E6E9"></stop>
            </linearGradient>
            <linearGradient id="linearGradient-2" y2="65.8988422%" x2="55.9821181%" y1="42.5828942%" x1="51.0590102%">
              <stop offset="0%" stop-color="#E8E8E9"></stop>
              <stop offset="100%" stop-color="#CCCDCE"></stop>
            </linearGradient>
            <linearGradient id="linearGradient-3" y2="31.6155331%" x2="70.0434195%" y1="110.768192%" x1="-12.7616925%">
              <stop offset="0%" stop-color="#EEEEEE"></stop>
              <stop offset="100%" stop-color="#D8D8D8"></stop>
            </linearGradient>
            <linearGradient id="linearGradient-4" y2="17.3862394%" x2="82.0607981%" y1="83.1759315%" x1="16.6823234%">
              <stop offset="0%" stop-color="#EEEEEE"></stop>
              <stop offset="100%" stop-color="#D8D8D8"></stop>
            </linearGradient>
          </defs>
          <g fill-rule="evenodd" fill="none" stroke-width="1" stroke="none" id="缺省页">
            <g id="编组-21" transform="translate(-308.000000, -251.000000)">
              <g transform="translate(325.000000, 275.000000)">
                <path fill-rule="nonzero" fill="#B4B6BA" id="暂无评论~"
                      d="M36.1129491,97.1370847 L36.1129491,96.4821695 L37.3853559,96.3698983 L37.3853559,95.6494915 C36.9830508,95.6869153 36.5620339,95.7149831 36.1129491,95.7524068 L36.1129491,95.2097627 L37.4789152,95.2097627 L37.4789152,94.48 L36.1129491,94.48 L36.1129491,93.928 L35.2896271,93.928 L35.2896271,94.48 L34.4943729,94.48 C34.6814915,94.208678 34.8686101,93.9092881 35.0370169,93.5911864 L37.5631186,93.5911864 L37.5631186,92.8052881 L35.4018983,92.8052881 C35.4580339,92.6649492 35.5048135,92.5246102 35.5609491,92.3842712 L34.6814915,92.2439322 C34.606644,92.4310508 34.5411525,92.6181695 34.4663051,92.8052881 L33.2126101,92.8052881 L33.2126101,93.5911864 L34.0920678,93.5911864 C33.8862373,93.9467119 33.6804068,94.2461017 33.4652203,94.4893559 L33.652339,95.2097627 L35.2896271,95.2097627 L35.2896271,95.8085424 C34.6814915,95.8459661 34.0359322,95.8740339 33.3529491,95.9021017 L33.4558644,96.6692881 C34.0920678,96.6318644 34.7002034,96.5850847 35.2896271,96.547661 L35.2896271,97.1370847 L36.1129491,97.1370847 Z M38.0309152,97.2212881 C38.4238644,96.6412203 38.6858305,95.9769492 38.7981017,95.2191186 L39.8085423,95.2191186 L39.8085423,97.1464407 L40.6599322,97.1464407 L40.6599322,95.2191186 L41.5581017,95.2191186 L41.5581017,94.4425763 L38.8542373,94.4425763 L38.8542373,93.6379661 C39.8459661,93.5256949 40.688,93.3105085 41.370983,93.0111186 L40.7909152,92.3562034 C40.1734237,92.6462373 39.2565423,92.8520678 38.0402712,92.964339 L38.0402712,94.5080678 C38.0215593,95.303322 37.8063729,95.995661 37.4134237,96.5757288 L38.0309152,97.2212881 Z M35.158644,100.963661 L35.158644,100.636203 L39.7056271,100.636203 L39.7056271,100.963661 L40.6037966,100.963661 L40.6037966,97.3522712 L34.2604746,97.3522712 L34.2604746,100.963661 L35.158644,100.963661 Z M39.7056271,98.624678 L35.158644,98.624678 L35.158644,98.0913898 L39.7056271,98.0913898 L39.7056271,98.624678 Z M39.7056271,99.8783729 L35.158644,99.8783729 L35.158644,99.3263729 L39.7056271,99.3263729 L39.7056271,99.8783729 Z M43.7785763,100.963661 C45.0696949,100.411661 46.0052881,99.6257627 46.5853559,98.6059661 C46.8941017,98.0165424 47.128,97.3242034 47.2964068,96.5195932 L47.8764746,96.5195932 L47.8764746,99.7099661 C47.8764746,100.439729 48.2226441,100.813966 48.914983,100.813966 L50.4119322,100.813966 C50.8048813,100.813966 51.0949152,100.720407 51.2820339,100.542644 C51.4878644,100.355525 51.6375593,99.7661017 51.7124068,98.7837288 L50.8797288,98.5124068 C50.8423051,99.2234576 50.7674576,99.6538305 50.6645424,99.7848136 C50.570983,99.9157966 50.4306441,99.9812881 50.2435254,99.9812881 L49.1863051,99.9812881 C48.8962712,99.9812881 48.7559322,99.8222373 48.7559322,99.5228475 L48.7559322,96.5195932 L51.5814237,96.5195932 L51.5814237,95.6588475 L47.4367458,95.6588475 C47.4928813,95.1910508 47.5303051,94.7045424 47.5490169,94.1806102 L47.5490169,93.6192542 L50.8423051,93.6192542 L50.8423051,92.7491525 L44.0311864,92.7491525 L44.0311864,93.6192542 L46.6414915,93.6192542 L46.6414915,94.1806102 C46.6227796,94.7045424 46.5853559,95.1910508 46.5292203,95.6588475 L43.4230508,95.6588475 L43.4230508,96.5195932 L46.3701695,96.5195932 C46.2578983,97.0341695 46.0988474,97.5019661 45.9023729,97.932339 C45.4439322,98.8305085 44.5738305,99.5789831 43.2827119,100.168407 L43.7785763,100.963661 Z M55.5233898,94.4051525 L56.1315254,93.787661 C55.7105085,93.3198644 55.1959322,92.8614237 54.5877966,92.4029831 L53.9703051,93.0111186 C54.6345763,93.4976271 55.1491525,93.9654237 55.5233898,94.4051525 Z M59.5651525,100.963661 L59.5651525,97.7077966 L61.988339,97.7077966 L61.988339,96.8657627 L59.5651525,96.8657627 L59.5651525,93.5350508 L61.707661,93.5350508 L61.707661,92.7023729 L56.5806102,92.7023729 L56.5806102,93.5350508 L58.7044068,93.5350508 L58.7044068,96.8657627 L56.3186441,96.8657627 L56.3186441,97.7077966 L58.7044068,97.7077966 L58.7044068,100.963661 L59.5651525,100.963661 Z M60.7814237,96.4634576 C61.0808136,95.7898305 61.3240678,95.0039322 61.5111864,94.1057627 L60.7346441,93.8999322 C60.5288136,94.8261695 60.2949153,95.5933559 60.0329492,96.2014915 L60.7814237,96.4634576 Z M57.3758644,96.4821695 L58.1336949,96.2950508 C57.9278644,95.4062373 57.703322,94.620339 57.4413559,93.9373559 L56.6835254,94.1806102 C56.9642034,94.9103729 57.1981017,95.6775593 57.3758644,96.4821695 Z M54.7374915,100.692339 C55.3736949,100.261966 55.9818305,99.7661017 56.5431864,99.2141017 L56.2999322,98.2785085 C56.0098983,98.5591864 55.7385763,98.8211525 55.4859661,99.0550508 L55.4859661,95.1162034 L53.3247458,95.1162034 L53.3247458,95.9675932 L54.6345763,95.9675932 L54.6345763,99.4105763 C54.6345763,99.5976949 54.5503729,99.7567458 54.400678,99.8877288 L54.7374915,100.692339 Z M66.5571526,96.1172881 C67.5863051,95.4249492 68.4376949,94.4332203 69.120678,93.1514576 C69.6820339,94.2928814 70.5521356,95.2658983 71.7309831,96.0517966 L72.2174915,95.303322 C70.9357288,94.4425763 70.0375593,93.4508475 69.5136271,92.3187797 L68.7183729,92.3187797 C68.1008814,93.5724746 67.2120678,94.5829153 66.0706441,95.3688136 L66.5571526,96.1172881 Z M65.6122034,94.4051525 L66.220339,93.787661 C65.799322,93.3198644 65.2847458,92.8614237 64.6766102,92.4029831 L64.0591187,93.0111186 C64.7233898,93.4976271 65.2379661,93.9654237 65.6122034,94.4051525 Z M64.8169492,100.692339 C65.4999322,100.224542 66.1454915,99.7099661 66.7442712,99.1298983 L66.5197288,98.2410847 C66.1829153,98.5591864 65.8741695,98.8492203 65.5841356,99.1018305 L65.5841356,95.1162034 L63.4696949,95.1162034 L63.4696949,95.9675932 L64.7233898,95.9675932 L64.7233898,99.4105763 C64.7233898,99.5976949 64.6391865,99.7661017 64.4801356,99.8970847 L64.8169492,100.692339 Z M70.4772881,100.80461 C70.9263729,100.80461 71.2538305,100.711051 71.469017,100.523932 C71.7122712,100.327458 71.871322,99.719322 71.9555254,98.6995254 L71.1228475,98.4282034 C71.0854237,99.176678 70.9918644,99.6164068 70.8421695,99.7661017 C70.7298983,99.8970847 70.5614915,99.9719322 70.3182373,99.9719322 L68.699661,99.9719322 C68.4002712,99.9719322 68.2505763,99.8035254 68.2505763,99.4854237 L68.2505763,98.0820339 C69.1955254,97.7265085 70.1966102,97.2212881 71.2444746,96.5570169 L70.7392542,95.8459661 C69.944,96.4260339 69.111322,96.8751186 68.2505763,97.2025763 L68.2505763,95.6682034 L67.3711187,95.6682034 L67.3711187,99.6631864 C67.3711187,100.421017 67.7172881,100.80461 68.428339,100.80461 L70.4772881,100.80461 Z M76.524339,97.4084068 C76.9547119,97.4084068 77.3757288,97.0809492 77.7873899,96.4353898 L77.1792543,96.0143729 C76.936,96.4260339 76.7114577,96.6412203 76.524339,96.6412203 C76.3652882,96.6412203 76.0846102,96.5102373 75.691661,96.2669831 C75.2987119,96.0050169 74.9431865,95.8833898 74.6344407,95.8833898 C74.2040678,95.8833898 73.7830509,96.2014915 73.3713899,96.8470508 L73.9795254,97.2680678 C74.2227797,96.8564068 74.4379661,96.6505763 74.6344407,96.6505763 C74.7934915,96.6505763 75.0741695,96.7722034 75.4764746,97.0341695 C75.8694238,97.2774237 76.2155932,97.4084068 76.524339,97.4084068 Z"></path>
                <ellipse ry="23.5" rx="55.5" cy="54.5" cx="55.5" fill="url(#linearGradient-1)"
                         id="椭圆形备份-11"></ellipse>
                <g transform="translate(36.000000, 0.000000)" id="编组-12">
                  <path stroke-width="0.520000665" stroke="#979797" id="矩形"
                        d="M45.195676,2.66395955 C45.6935344,2.59523267 46.1721177,2.73480918 46.5434182,3.01603201 C46.9104713,3.29403793 47.1726818,3.71046813 47.2450279,4.20092696 L47.2450279,4.20092696 L47.2645603,52.5576806 C47.2645603,53.0010541 47.1047923,53.4121603 46.8357679,53.7311129 C46.5667435,54.0500656 46.1884628,54.2768647 45.7514375,54.3516241 L45.7514375,54.3516241 L4.96973874,61.3279128 C4.47435491,61.4126553 3.99152036,61.2885812 3.61134616,61.0194755 C3.23654608,60.7541739 2.96152446,60.3479121 2.87262472,59.861808 L2.87262472,59.861808 L2.84285689,10.0965745 C2.84285689,9.64208046 3.01052476,9.22242984 3.29074874,8.90086492 C3.57097271,8.57929999 3.96375279,8.35582075 4.41397719,8.29366952 L4.41397719,8.29366952 Z"></path>
                  <path fill="#D8DADD" id="矩形备份-4"
                        d="M1.79556606,5.95610901 L42.5772649,0.326399039 C43.715227,0.169309041 44.7650742,0.964463047 44.9221642,2.10242522 C44.9351755,2.19667891 44.9417041,2.29171431 44.9417041,2.38686182 L44.9417041,50.4776779 C44.9417041,51.4911031 44.2113359,52.3570205 43.2124209,52.5278991 L2.43072211,59.5041878 C1.29841621,59.6978848 0.223478472,58.936992 0.0297814687,57.8046861 C0.00996281825,57.688831 4.31972936e-16,57.5715046 0,57.4539666 L0,8.01657179 C3.16867584e-16,6.97772838 0.766481706,6.09816897 1.79556606,5.95610901 Z"></path>
                  <path fill="#D8DADD" id="路径-15"
                        d="M42.5286432,0.321249918 C44.5299765,0.172482786 45.9162098,0.970516664 46.687343,2.71535155 C47.4584763,4.46018644 47.3274103,7.62874405 46.2941451,12.2210244 L39.2425274,10.9289264 L42.5286432,0.321249918 Z"></path>
                  <path fill="#D8DADD" id="路径-14"
                        d="M0.196147886,58.3425903 C1.53077953,60.4402758 3.06634877,61.4891186 4.80285563,61.4891186 C6.53936249,61.4891186 7.84109459,59.6815728 8.70805195,56.0664811 L0.196147886,58.3425903 Z"></path>
                  <path fill="#E4E6E9" id="矩形备份-3"
                        d="M4.37842262,8.03611167 L45.1601214,2.4064017 C46.2980836,2.2493117 47.3479308,3.04446571 47.5050208,4.18242788 C47.5180321,4.27668157 47.5245607,4.37171697 47.5245607,4.46686449 L47.5245607,52.5576806 C47.5245607,53.5711057 46.7941924,54.4370232 45.7952775,54.6079018 L5.01357867,61.5841905 C3.88127277,61.7778875 2.80633503,61.0169946 2.61263803,59.8846887 C2.59281938,59.7688337 2.58285656,59.6515072 2.58285656,59.5339693 L2.58285656,10.0965745 C2.58285656,9.05773104 3.34933826,8.17817163 4.37842262,8.03611167 Z"></path>
                  <path fill="#FDFDFD" id="路径-16"
                        d="M8.16316093,10.2054339 L8.37584527,10.1763626 L8.37584527,10.1763626 L41.1605748,5.6951126 L42.8187182,5.46846577 C43.6723541,5.35176502 44.4589539,5.94918686 44.5756353,6.80282544 C44.5863219,6.88100852 44.5910611,6.95988976 44.589812,7.03878993 C44.5723908,8.13921451 44.5611363,8.90319242 44.5560485,9.33072365 C44.3995981,22.4773502 44.7396914,32.4187141 45.5763285,39.1548152 C46.4980085,46.57563 48.3035147,50.9342588 50.9928473,52.2307016 L11.9584913,58.4505368 C8.031194,54.5447878 5.89313725,49.442749 5.54432105,43.1444207 C5.2163449,37.2223866 5.33328911,27.248508 5.89515368,13.222785 C5.90039433,13.0919635 5.90782977,12.9093017 5.91746,12.6747996 C5.96913869,11.4164074 6.91531108,10.3759988 8.16316093,10.2054339 Z"></path>
                  <ellipse ry="2.34000299" rx="1.54971394" cy="34.0240135" cx="17.0468533" fill="#D8D8D8"
                           id="椭圆形"></ellipse>
                  <ellipse ry="2.34000299" rx="1.54971394" cy="32.4640115" cx="26.8617082" fill="#D8D8D8"
                           id="椭圆形备份-9"></ellipse>
                  <ellipse ry="2.34000299" rx="1.54971394" cy="30.9040095" cx="35.6434205" fill="#D8D8D8"
                           id="椭圆形备份-10"></ellipse>
                  <path fill="#BBBCBD" id="路径-17备份"
                        d="M13.5176018,4.35752992 L16.6166064,6.02350093 L16.6166064,9.91634554 C16.6165986,11.0651036 17.547851,11.996356 18.6966091,11.996356 C18.7794993,11.996356 18.8623155,11.9914011 18.9446144,11.9815179 C19.6448382,11.8974284 20.4455402,11.7942853 21.3467206,11.6720886 C23.2418445,11.4151167 26.3387699,10.9711755 30.6374968,10.340265 C31.6586436,10.1903881 32.4154535,9.31439609 32.4154535,8.28230892 L32.4154535,3.91784521 L32.4154535,3.91784521 L29.0657667,2.60000333 L13.5176018,4.35752992 Z"></path>
                  <path fill="url(#linearGradient-2)" id="路径-17"
                        d="M14.3905177,3.39784455 L17.649749,5.50350026 L17.649749,9.82636903 C17.649749,10.9751228 18.5809979,11.9063717 19.7297517,11.9063717 C19.8261589,11.9063717 19.9224495,11.8996691 20.017927,11.8863123 L31.6567687,10.2580991 C32.6841729,10.1143707 33.4485961,9.23556482 33.4485961,8.19815591 L33.4485961,3.39784455 L33.4485961,3.39784455 L29.7643972,1.47086512 L14.3905177,3.39784455 Z"></path>
                  <polygon
                      points="14.3905177 3.39784455 13.5176018 3.58841194 13.5176018 4.35752992 16.6166064 6.02350093 17.1844516 5.18526676"
                      fill="#BBBCBD" id="路径-18"></polygon>
                  <polygon points="43.0152985 33.5724077 40.1906292 40.5957612 47.4868298 37.8555629"
                           transform="translate(43.838729, 37.084084) rotate(3.000000) translate(-43.838729, -37.084084)"
                           fill="url(#linearGradient-3)" id="路径-20"></polygon>
                  <path fill="url(#linearGradient-4)" id="路径-19"
                        d="M43.2002139,33.5341253 L68.8685207,7.80915813 L73.1193826,13.6988094 L47.4414541,38.0454324 C46.1718875,37.9643373 45.1767512,37.5404907 44.4560452,36.7738928 C43.7353392,36.0072948 43.3167288,34.9273723 43.2002139,33.5341253 Z"></path>
                  <ellipse ry="3.63171855" rx="2.32993113" cy="10.7539838" cx="70.9939516"
                           transform="translate(70.993952, 10.753984) rotate(-36.000000) translate(-70.993952, -10.753984)"
                           fill="#E6E7E7" id="椭圆形"></ellipse>
                </g>
              </g>
            </g>
          </g>
        </svg>
      </div>
    </div>
  </div>
</template>

<style scoped>
.comment_mod {
  width: 75%;
  min-height: 413px;
  margin-left: 200px;
  margin-top: 10px;
}

.writeComment {
  display: flex;
  flex-direction: column;
  height: 130px;
  margin-top: 20px;
  border: 1px solid #bfbfbf;
  border-radius: 20px;
  backdrop-filter: blur(8px);
  background-color: #1c2938;
  box-shadow: inset 0 0 10px 2px #FFFFFF;
}


.postComm_container {
  width: 100%;
  height: 100%;
  background-color: transparent;
  color: #FFFFFF;
  font-family: STXihei, serif;
  padding-top: 15px;
  padding-left: 20px;
  border-radius: 20px;
  /*去掉轮廓*/
  outline: none;
  border: 0;
  /*禁止textarea调整大小*/
  resize: none;
}


/*textarea去掉滚动条，但仍具有滚动效果*/
.postComm_container::-webkit-scrollbar {
  width: 0;
  height: 0;
}

.commUtils_mod {
  width: 100%;
  height: 40%;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.other_mod {
  display: flex;
  width: 10%;
  justify-content: center;
  align-items: center;
  padding-right: 20px;
}

.other_mod svg {
  width: 20px;
  height: 20px;
  margin-right: 10px;
  cursor: pointer;
}

.other_mod span {
  font-size: large;
  color: #FFFFFF;
  font-family: 微软雅黑, serif;
  font-weight: 900;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
}

.other_mod span:hover {
  color: #75c1c4;
  transition: all 0.3s ease-in-out;
}

.comment_list {
  margin-top: 40px;
}

.title {
  font-weight: 900;
  font-size: 20px;
}

.comment_user {
  width: 100%;
  margin-top: 10px;
  display: flex;
  border-bottom: 1px solid #ababab;
}

.Commentator_avatar {
  height: 50px;
  width: 50px;
  background-color: black;
  border-radius: 50%;
}

.nameAndComment {
  width: 90%;
  margin-left: 10px;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.nameAndComment {
  font-family: STXihei, serif;
}

.commentator {
  width: 100px;
  min-width: 100px;
  color: #e58c43;
  cursor: pointer;
}

.commentator:hover {
  color: #ffbd89;
}

.comment_text {
  font-size: large;
  /*遇到换行或者空格的文本时，就会进行自动解码操作*/
  white-space: pre-wrap;
}

.comment_time {
  margin-top: 15px;
  margin-bottom: 10px;
  font-size: 12px;
  opacity: 0.5;
}

.option_mod {
  width: 100px;
  display: flex;
  align-items: end;
  padding-bottom: 15px;
}

.option_mod_next {
  width: 100%;
  display: flex;
  justify-content: space-around;
}

.commentNull_mod {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.commentNull_mod svg {
  width: 200px;
  height: 200px;
}
</style>